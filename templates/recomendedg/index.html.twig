{% extends 'front/baseFront.html.twig' %}

{% block title %}Recomended Game index
{% endblock %}

{% block body %}
	<div class="">


		<section style="background-color: #d8d5d5;">
			<div class="container">
				<h3 style="color:#e11919; margin-top: 50px;">Recomended Games</h3>
				<div class="row">
					<div class="col-3"></div>
					<div class="col-3"></div>
					<div class="col-3"></div>
					<div class="col-3">
						<input class="form-control" type="text" id="search" placeholder="üîç">
					</div>
				</div>
				<table id="t" class="table">
					<thead>
						<tr>
							<th>Name</th>
							<th>Category</th>
							<th>Platform</th>
							<th>Url</th>
							<th>Price</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody id="all">
						{% for recomendedg in recomendedgs %}

							<tr>
								<td>{{ recomendedg.nom }}</td>
								<td>{{ recomendedg.category.categoryName }}</td>
								<td>{{ recomendedg.platform }}</td>
								<td>{{ recomendedg.url }}</td>
								<td>{{ recomendedg.prix }}</td>
								<td>
									<a href="/recomendedg/Client/{{ recomendedg.id }}" class="btn btn-warning">Show</a>
								</td>
							</tr>
						{% endfor %}
					</tbody>
					<tbody id="search"></tbody>

				</table>
				<div id="divs">

					<a style="color:#FF0000;" class="tg-btn" href="" id="idup">UP ‚¨ÜÔ∏è</a>
					<a style="color:#25DD28;" class="tg-btn" href="" id="iddown">DOWN ‚¨áÔ∏è</a>
				</div>
			</div>
		</section>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script>
			$(document).ready(function () { /*begin rechercher avancee multicrit√©res selon sujet et            $("#divs").keyup(fun staus*/
$("#divs").keyup(function (e) { /* La variable value va prendre la valeur ins√©rer dans le champ de texte afin d‚Äôeffectuer la recherche */
var value = $("#search").val();
//    alert(value);
/* Ajax est lanc√© lors du remplissage du champ texte dont l‚Äôid est ¬´ search ¬ª pour faire la recherche */
$.ajax({ /* l‚Äôurl est une chaine de caract√®res contenant l‚Äôadresse o√π la requ√™te est envoy√©e */
url: "{{ path('search_recc') }}",
/* La m√©thode utilis√©e pour transf√©rer les donn√©es est GET */
type: 'GET',
/*Ici search value va prendre la chaine entr√©e par un utilisateur dans la zone de recherche et sera plac√©e apr√®s l‚Äôurl */
data: {
'searchValue': value
},
/*Cette fonction permet de vider le contenu du tableau pour recevoir le nouveau contenu*/
success: function (retour) {
if (retour) {
$('#t tbody#search').empty();
$.each(JSON.parse(retour), function (i, obj) {
$('#t tbody#all').hide();
$('#t tbody#search').append('<tr>' + '<td> ' + obj.nom + '  </td>' + '<td>    ' + obj.category.categoryName + '  </td>' + '<td>' + obj.platform + ' </td>' + '<td>' + obj.url + ' </td>' + '<td>' + obj.prix + ' </td>' + '<td>' + '<a href="/recomendedg/Client/' + obj.id + '" class="btn btn-warning">Show</a> ' + '</td>' + '</tr>');
});
} else {

$('#t tbody#all').show();
$('#t tbody#search').empty();
$('#t tbody#search').fadeIn('fast');

}
}
});
return false;
});
/*end rechercher avancee multicrit√©res selon nom et platform*/


/*begin trie up selon prix*/
$("#idup").click(function (e) { /* La variable value va prendre la valeur ins√©rer dans le champ de texte afin d‚Äôeffectuer la recherche */
var value = $("#search").val();
var value3 = "ASC";

//    alert(value);
/* Ajax est lanc√© lors du remplissage du champ texte dont l‚Äôid est ¬´ search ¬ª pour faire la recherche */
$.ajax({ /* l‚Äôurl est une chaine de caract√®res contenant l‚Äôadresse o√π la requ√™te est envoy√©e */
url: "{{ path('search_recc') }}",
/* La m√©thode utilis√©e pour transf√©rer les donn√©es est GET */
type: 'GET',
/*Ici search value va prendre la chaine entr√©e par un utilisateur dans la zone de recherche et sera plac√©e apr√®s l‚Äôurl */
data: {
'searchValue': value,
'orderid': value3
},
/*Cette fonction permet de vider le contenu du tableau pour recevoir le nouveau contenu*/
success: function (retour) {
if (retour) {
$('#t tbody#search').empty();
$.each(JSON.parse(retour), function (i, obj) {
$('#t tbody#all').hide();
$('#t tbody#search').append('<tr>' + '<td> ' + obj.nom + '  </td>' + '<td>    ' + obj.category.categoryName + '  </td>' + '<td>' + obj.platform + ' </td>' + '<td>' + obj.url + ' </td>' + '<td>' + obj.prix + ' </td>' + '<td>' + '<a href="/recomendedg/Client/' + obj.id + '" class="btn btn-warning">Show</a> ' + '</td>' + '</tr>');
});
} else {
$('#t tbody#all').show();
$('#t tbody#search').empty();
$('#t tbody#search').fadeIn('fast');
}
}
});
return false;

});
/*end trie up selon prix*/

/*begin trie down selon prix*/
$("#iddown").click(function (e) { /* La variable value va prendre la valeur ins√©rer dans le champ de texte afin d‚Äôeffectuer la recherche */
var value = $("#search").val();
var value3 = "DESC";

//    alert(value);
/* Ajax est lanc√© lors du remplissage du champ texte dont l‚Äôid est ¬´ search ¬ª pour faire la recherche */
$.ajax({ /* l‚Äôurl est une chaine de caract√®res contenant l‚Äôadresse o√π la requ√™te est envoy√©e */
url: "{{ path('search_recc') }}",
/* La m√©thode utilis√©e pour transf√©rer les donn√©es est GET */
type: 'GET',
/*Ici search value va prendre la chaine entr√©e par un utilisateur dans la zone de recherche et sera plac√©e apr√®s l‚Äôurl */
data: {
'searchValue': value,
'orderid': value3
},
/*Cette fonction permet de vider le contenu du tableau pour recevoir le nouveau contenu*/
success: function (retour) {
if (retour) {
$('#t tbody#search').empty();
$.each(JSON.parse(retour), function (i, obj) {
$('#t tbody#all').hide();
$('#t tbody#search').append('<tr>' + '<td> ' + obj.nom + '  </td>' + '<td>    ' + obj.category.categoryName + '  </td>' + '<td>' + obj.platform + ' </td>' + '<td>' + obj.url + ' </td>' + '<td>' + obj.prix + ' </td>' + '<td>' + '<a href="/recomendedg/Client/' + obj.id + '" class="btn btn-warning">Show</a> ' + '</td>' + '</tr>');
});
} else {
$('#t tbody#all').show();
$('#t tbody#search').empty();
$('#t tbody#search').fadeIn('fast');
}
}
});
return false;

});
/*end trie down selon prix*/
});
		</script>

	</div>


{% endblock %}
